(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{73459:function(e,r,t){Promise.resolve().then(t.bind(t,90808)),Promise.resolve().then(t.bind(t,66066))},9141:function(e,r,t){"use strict";var a=t(27573),l=t(41639),n=t(40569),o=t(96072),s=t.n(o),i=t(65372),d=t(88510),c=t(78953),x=t(76718);r.Z=function(e){let{items:r}=e,t=(0,i.Z)();return(0,a.jsx)(l.X2,{sx:{width:"100%",flex:"1 1 0",gap:"1rem",flexWrap:"wrap",margin:"auto",maxWidth:"1240px"},children:r.map(e=>{let r=e.TooltipElement||"div";return(0,a.jsxs)(l.X2,{sx:{background:t.palette.background.paper,padding:"1.5rem",border:"1px solid ".concat(t.palette.outline),borderRadius:"1rem",flex:"1 1 0",gap:"1rem"},children:[(0,a.jsx)(l.X2,{sx:{background:(0,d.Fq)(e.color||"",.4),padding:"1rem",borderRadius:"0.5rem"},children:(0,a.jsx)(s(),{src:e.icon||"",alt:"",width:40,height:40})}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)("div",{style:{fontSize:"2rem"},children:"string"==typeof e.value?(0,a.jsx)(x.Z,{variant:"h4",display:"block",fontWeight:"500",children:e.value}):e.value}),(0,a.jsx)(r,{children:(0,a.jsxs)(l.X2,{children:[(0,a.jsx)(x.Z,{variant:"body1",color:"text.secondary",sx:{whiteSpace:"nowrap",mr:"4px"},display:"block",children:e.label}),e.TooltipElement&&(0,a.jsx)(n.Z,{color:"disabled",sx:{width:"16px"}})]})},e.label)]})]},e.label)})})}},90808:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return I}});var a=t(27573),l=t(41639),n=t(92298),o=t(78953),s=t(41958),i=t(92521),d=t(76718),c=t(99396),x=t(28790),u=t(76928);let p=e=>{let{onClose:r,title:t}=e;return(0,a.jsxs)(l.X2,{sx:{justifyContent:"space-between",p:"1rem"},children:[(0,a.jsx)(d.Z,{fontWeight:"600",color:"text.primary",variant:"h5",children:t}),(0,a.jsx)(c.Z,{onClick:r,children:(0,a.jsx)(s.Z,{})})]})},h=e=>{let{token:r,value:t,onChange:n,balance:s,title:i="Amount",balanceUsdMultiplier:c=1}=e,u=String(s);return(0,a.jsxs)(o.Z,{sx:{p:"0.5rem 1rem",borderRadius:"0.75rem"},children:[(0,a.jsx)(l.X2,{children:(0,a.jsx)(d.Z,{variant:"body2",color:"text.primary",children:i})}),(0,a.jsxs)(l.X2,{sx:{border:"1px solid rgba(54, 56, 67, 1)",p:"0.3rem 0.5rem",borderRadius:"0.8rem",mt:"0.5rem"},children:[(0,a.jsx)(b,{value:t,onChange:e=>n(e.target.value),max:s}),(0,a.jsx)(o.Z,{sx:{borderRadius:"0.5rem",p:"6px 8px",background:"background.secondary"},children:(0,a.jsx)(l.Xw,{currency:r,showName:!0})})]}),(0,a.jsxs)(l.X2,{justifyContent:"space-between",sx:{mt:"0.5rem"},children:[(0,a.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Balance: ",(0,l.az)(s,0,2)]}),(0,a.jsx)(l.X2,{gap:"2px",children:(0,a.jsx)(x.Z,{variant:"outlined",sx:{padding:"2px 8px",minWidth:"20px",borderRadius:"1rem",textTransform:"capitalize",fontSize:"0.75rem"},onClick:()=>n(u),children:"Max"})})]})]})},m=e=>{let{summaries:r}=e;return(0,a.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",p:"1rem 1rem",borderRadius:"0.5rem","> *":{flex:"1 1 0",width:"100%"}},gap:"4px",children:[(0,a.jsx)(d.Z,{variant:"body1",color:"text.primary",fontWeight:"600",sx:{mb:"0.5rem"},children:"Transaction overview"}),r.map(e=>(0,a.jsxs)(l.X2,{justifyContent:"space-between",gap:"8px",children:[(0,a.jsx)(d.Z,{variant:"body1",color:"text.secondary",children:e.label}),"string"==typeof e.value?(0,a.jsx)(d.Z,{variant:"body1",color:e.valueColor,children:e.value}):e.value]},e.label))]})},b=u.ZP.input.attrs(()=>({onWheel:e=>e.target.blur(),onKeyDown:e=>["e","E","+","-"].includes(e.key)&&e.preventDefault(),placeholder:"0.0",min:"0",autoComplete:"off",pattern:"^[0-9]*[.,]?[0-9]*$",type:"number"})).withConfig({componentId:"sc-e99b7818-0"})(["width:100%;background-color:transparent;border:0;outline-color:transparent;padding:0rem 0rem 0px 0.5rem;font-size:1.25rem;font-weight:500;flex-grow:2;color:",";opacity:",";outline:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:focus-visible{outline:1px solid ",";}&:active,&:focus{outline-color:transparent;}&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"],e=>e.$isLoading?e.theme.textSecondary:e.theme.textPrimary,e=>e.$isLoading?"0.5":"1",e=>{var r;return null===(r=e.theme)||void 0===r?void 0:r.accent}),j=e=>{let{currentValue:r,updatedValue:t,variant:n}=e,o=r===1/0,s=t===1/0;return void 0===r?(0,a.jsx)(d.Z,{variant:n,children:"-"}):void 0===t?(0,a.jsx)(d.Z,{color:o||(null!=r?r:2)>1.000001?"#66F398":"#D33C5D",variant:n,children:o?"∞":(0,l.az)(r,0,2)}):(0,a.jsxs)(l.X2,{gap:"8px",children:[(0,a.jsx)(d.Z,{variant:n||"body1",color:o||(null!=r?r:2)>1.000001?"#66F398":"#D33C5D",children:o?"∞":(0,l.az)(r,0,2)}),(0,a.jsx)(i.Z,{sx:{width:"14px"}}),(0,a.jsx)(d.Z,{variant:n||"body1",color:o||(null!=t?t:2)>1.000001?"#66F398":"#D33C5D",children:s?"∞":(0,l.az)(t,0,2)})]})};var v=t(65372),g=t(75270),y=t(18483),f=t(34287),Z=t(9479),k=t(88510),w=t(7653),C=t(31485);function R(e){var r,t,s,i,c,u;let{isOpen:b,onClose:g,token:y}=e,{depositAmount:R,setDepositAmount:F,onDeposit:X,onReset:z,isDisabled:S,ctaText:B,isLoading:U,summary:A,onChangeEnterMarket:D,isEnterMarketLoading:W}=(0,n.Mx)((null==y?void 0:y.address)||"",e=>{e&&g()}),N=(0,v.Z)();(0,w.useEffect)(()=>{z()},[b]);let O=A.isBorrowAvailable&&!!(null===(r=A.tokenDetails)||void 0===r?void 0:r.oraclePriceFeedId)&&!!(null===(t=A.tokenDetails)||void 0===t?void 0:t.collateralFactor);return(0,a.jsx)(C.Z,{open:b,onClose:g,children:(0,a.jsxs)(o.Z,{sx:{p:"0 1rem 2rem 1rem",width:"100%",margin:"auto",maxWidth:"420px",borderRadius:"1rem",background:N.palette.background.paper,top:"45%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute"},children:[(0,a.jsx)(p,{onClose:g,title:"Deposit"}),(0,a.jsx)(h,{token:y,value:R,onChange:e=>F(e),balance:null==y?void 0:y.userBalancePrecised}),O&&(0,a.jsx)(l.X2,{sx:{mt:"1rem",cursor:"pointer"},children:(0,a.jsxs)(d.Z,{variant:"body2",color:"text.secondary",onClick:()=>{var e;D((null===(e=A.tokenDetails)||void 0===e?void 0:e.address)||"")},children:[(0,a.jsx)(Z.Z,{checked:null===(s=A.tokenDetails)||void 0===s?void 0:s.isEnteredMarket,onChange:()=>{var e;return D((null===(e=A.tokenDetails)||void 0===e?void 0:e.address)||"")},disabled:!(null===(i=A.tokenDetails)||void 0===i?void 0:i.oraclePriceFeedId)||!(null===(c=A.tokenDetails)||void 0===c?void 0:c.collateralFactor)||(null===(u=A.tokenDetails)||void 0===u?void 0:u.totalUserBorrowed)>0}),(0,a.jsx)("span",{style:{marginLeft:"8px"},children:"Available as collateral"}),W&&(0,a.jsx)(f.Z,{size:"20px",style:{marginLeft:"4px",position:"relative",top:"3px"}})]})}),(0,a.jsx)(m,{summaries:[{label:"Supply APY",value:(0,l.az)(A.supplyApy,0,4)+"%",valueColor:"success"},{label:"Health Score",value:(0,a.jsx)(j,{currentValue:A.healthFactor,updatedValue:A.updatedHealthFactor})}]}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",textTransform:"capitalize"},disabled:S||U||W,onClick:X,variant:"contained",children:B}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",background:(0,k.Fq)(N.palette.text.primary,.12),color:"white",textTransform:"capitalize"},onClick:g,variant:"text",children:"Cancel"})]})})}var F=t(84030),X=t(11894);function z(){return(0,a.jsx)(X.Z,{severity:"warning",sx:{background:"rgb(25, 18, 7)",color:"rgb(255, 226, 183)"},children:"Withdrawing this amount might result in liquidation of your open borrow position."})}function S(e){var r;let{isOpen:t,onClose:s,token:i}=e,{withdrawAmount:d,setWithdrawAmount:c,onWithdraw:u,onReset:b,isDisabled:g,ctaText:y,isLoading:f,summary:Z}=(0,n.Ts)((null==i?void 0:i.address)||"",e=>{e&&s()}),R=(0,v.Z)();return(0,w.useEffect)(()=>{b()},[t]),(0,a.jsx)(C.Z,{open:t,onClose:s,children:(0,a.jsxs)(o.Z,{sx:{p:"0 1rem 2rem 1rem",width:"100%",margin:"auto",maxWidth:"420px",borderRadius:"1rem",background:R.palette.background.paper,top:"45%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute"},children:[(0,a.jsx)(p,{onClose:s,title:"Withdraw"}),(0,a.jsx)(h,{token:i,value:d,onChange:e=>c(e),balance:(null===(r=Z.tokenDetails)||void 0===r?void 0:r.totalUserUnderlyingDepositPrecised)||0,balanceUsdMultiplier:1}),Z.updatedHealthFactor!=1/0&&Z.updatedHealthFactor<=1.01&&(0,a.jsx)(z,{}),(0,a.jsx)(m,{summaries:[{label:"Remaining Supply",value:"".concat((0,l.az)(null==Z?void 0:Z.updatedLpAmount,0,4)," ").concat(null==i?void 0:i.symbol),valueColor:"textLight"},{label:"Health score",value:(0,a.jsx)(j,{currentValue:Z.healthFactor,updatedValue:Z.updatedHealthFactor})}]}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",textTransform:"capitalize"},disabled:g||f,onClick:u,variant:"contained",children:y}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",background:(0,k.Fq)(R.palette.text.primary,.12),color:"white",textTransform:"capitalize"},onClick:s,variant:"text",children:"Cancel"})]})})}function B(){var e,r;let[t,s]=(0,w.useState)(null),[i,c]=(0,w.useState)(null),[u,p]=(0,w.useState)("asc"),[h,m]=(0,w.useState)(""),b=(0,v.Z)(),{onChangeEnterMarket:j,isLoading:C,activeTokenAddress:X}=(0,n.c7)(),z=()=>{s(null),c(null)},B=e=>{s(e)},U=e=>{c(e)},{data:A}=(0,n.al)(),{isLoading:D}=(0,n.OK)(),W=(null==A?void 0:A.tokens)||[];return(0,a.jsxs)(o.Z,{sx:{borderRadius:"0.5rem",overflow:"auto",alignSelf:"flex-start",minHeight:{xs:"200px",sm:"300px"},p:"1.5rem 0",background:b.palette.background.paper},className:"aqua-user-box",children:[(0,a.jsx)(S,{isOpen:!!t,onClose:z,token:t}),(0,a.jsx)(R,{isOpen:!!i,onClose:z,token:i}),(0,a.jsxs)(l.X2,{gap:".5rem",sx:{mb:"1rem",p:"0 1rem"},children:[(0,a.jsx)(l.X2,{children:(0,a.jsx)(d.Z,{fontWeight:"600",variant:"h6",children:"Your Supplied"})}),(0,a.jsx)(l.X2,{sx:{p:"2px 6px",borderRadius:"4px",background:b.palette.background.secondary},children:(0,a.jsx)(d.Z,{variant:"body2",children:(null==A?void 0:null===(e=A.tokens)||void 0===e?void 0:e.length)||0})})]}),(0,a.jsx)(F.k,{order:u,orderBy:h,setOrder:p,setOrderBy:m,heads:[{label:"Asset",id:"symbol",sortable:!0},{label:"Supplied",id:"totalUserUnderlyingDepositUsd",sortable:!0},{label:"APY",id:"supplyRate",sortable:!0},{label:"collateral",id:"isEnteredMarket",sortable:!1},{label:"Actions",id:"Action",sortable:!1}],data:W,renderItem:(e,r)=>{let t=!e.oraclePriceFeedId||!e.collateralFactor||e.totalUserBorrowed>0;return(0,a.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(l.Xw,{currency:e,showName:!0})}),(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(d.Z,{variant:"body2",display:"block",children:(0,l.az)(e.totalUserUnderlyingDeposit,0,4)}),(0,a.jsx)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:(0,l.YZ)(e.totalUserUnderlyingDepositUsd)})]}),(0,a.jsx)(y.Z,{children:(0,a.jsxs)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:[(0,l.az)(e.supplyRate,0,2),"%"]})}),(0,a.jsx)(y.Z,{children:C&&X===e.address?(0,a.jsx)(f.Z,{sx:{width:"20px"}}):t?(0,a.jsx)(d.Z,{variant:"body2",children:"-"}):(0,a.jsx)(d.Z,{variant:"body2",children:(0,a.jsx)(Z.Z,{checked:e.isEnteredMarket,onChange:()=>j(e.address),disabled:t,sx:{cursor:t?"disabled":"default"}})})}),(0,a.jsx)(y.Z,{align:"right",children:(0,a.jsxs)(l.X2,{className:"action-button-group",sx:{display:"flex",gap:"6px",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.jsx)(x.Z,{onClick:()=>U(e),sx:{background:(0,k.Fq)(b.palette.primary.main,.1),color:b.palette.primary.main,borderRadius:"12px",textTransform:"capitalize"},children:"Supply"}),(0,a.jsx)(x.Z,{onClick:()=>B(e),sx:{background:(0,k.Fq)(b.palette.primary.main,.1),color:b.palette.primary.main,borderRadius:"12px",textTransform:"capitalize"},children:"Withdraw"})]})})]},r)}}),!D&&!(null==A?void 0:null===(r=A.tokens)||void 0===r?void 0:r.length)&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(d.Z,{color:"text.secondary",children:"No asset supplied yet"})}),D&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(f.Z,{})})]})}var U=t(9141),A=t(32031);function D(){let[e,r]=(0,w.useState)(null),[t,s]=(0,w.useState)("asc"),[i,c]=(0,w.useState)(""),u=(0,v.Z)(),p=e=>{r(e)},{data:h,isLoading:m}=(0,n.OK)(),b=h||[];return(0,a.jsxs)(o.Z,{sx:{borderRadius:"0.5rem",overflow:"auto",alignSelf:"flex-start",minHeight:{xs:"200px",sm:"300px"},p:"1.5rem 0",background:u.palette.background.paper},className:"aqua-user-box",children:[(0,a.jsx)(R,{isOpen:!!e,onClose:()=>{r(null)},token:e}),(0,a.jsxs)(l.X2,{gap:".5rem",sx:{mb:"1rem",p:"0 1rem"},children:[(0,a.jsx)(l.X2,{children:(0,a.jsx)(d.Z,{fontWeight:"600",variant:"h6",children:"Assets to supply"})}),(0,a.jsx)(l.X2,{sx:{p:"2px 6px",borderRadius:"4px",background:u.palette.background.secondary},children:(0,a.jsx)(d.Z,{variant:"body2",children:(null==b?void 0:b.length)||0})})]}),(0,a.jsx)(F.k,{order:t,orderBy:i,setOrder:s,setOrderBy:c,heads:[{label:"Asset",id:"symbol",sortable:!0},{label:"Wallet Balance",id:"userBalanceUsd",sortable:!0},{label:"APY",id:"supplyRate",sortable:!0},{label:"Can be collateral",id:"oraclePriceFeedId",sortable:!1},{label:"Action",id:"Action",sortable:!1}],data:b,renderItem:(e,r)=>(0,a.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(l.Xw,{currency:e,showName:!0})}),(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(d.Z,{variant:"body2",display:"block",children:(0,l.az)(e.userBalance,0,4)}),(0,a.jsx)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:(0,l.YZ)(e.userBalanceUsd)})]}),(0,a.jsx)(y.Z,{children:(0,a.jsxs)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:[(0,l.az)(e.supplyRate,0,2),"%"]})}),(0,a.jsx)(y.Z,{children:(0,a.jsx)(d.Z,{variant:"body2",children:e.oraclePriceFeedId&&e.collateralFactor?(0,a.jsx)(A.Z,{sx:{width:"18px"}}):"-"})}),(0,a.jsx)(y.Z,{align:"right",children:(0,a.jsx)(l.X2,{className:"action-button-group",sx:{display:"flex",gap:"6px",justifyContent:"flex-end",alignItems:"center"},children:(0,a.jsx)(x.Z,{onClick:()=>p(e),sx:{background:(0,k.Fq)(u.palette.primary.main,.1),color:u.palette.primary.main,borderRadius:"12px",textTransform:"capitalize",border:0},children:"Supply"})})})]},r)}),!m&&!(null==b?void 0:b.length)&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(d.Z,{color:"text.secondary",children:"No token"})}),m&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(f.Z,{})})]})}function W(){return(0,a.jsx)(X.Z,{severity:"warning",sx:{background:"rgb(25, 18, 7)",color:"rgb(255, 226, 183)"},children:"Securing this loan will diminish your health factor and elevate the likelihood of facing liquidation."})}function N(e){let{isOpen:r,onClose:t,token:s}=e,i=(0,v.Z)(),{borrowAmount:d,setBorrowAmount:c,onBorrow:u,onReset:b,isDisabled:g,ctaText:y,isLoading:f,summary:Z}=(0,n.t$)((null==s?void 0:s.address)||"",e=>{e&&t()});return(0,w.useEffect)(()=>{b()},[r]),(0,a.jsx)(C.Z,{open:r,onClose:t,children:(0,a.jsxs)(o.Z,{sx:{p:"0 1rem 2rem 1rem",width:"100%",margin:"auto",maxWidth:"420px",borderRadius:"1rem",background:i.palette.background.paper,top:"45%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute"},children:[(0,a.jsx)(p,{onClose:t,title:"Borrow"}),(0,a.jsx)(h,{token:s,value:d,onChange:e=>c(e),balance:Z.maxBorrow}),Z.updatedHealthFactor!==1/0&&Z.updatedHealthFactor<=1.01&&(0,a.jsx)(W,{}),(0,a.jsx)(m,{summaries:[{label:"Borrow APY",value:(0,l.az)((null==s?void 0:s.borrowRate)||0,0,4)+"%",valueColor:"textLight"},{label:"Health Score",value:(0,a.jsx)(j,{currentValue:Z.healthFactor,updatedValue:Z.updatedHealthFactor})}]}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",textTransform:"capitalize"},disabled:g||f,onClick:u,variant:"contained",children:y}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",background:(0,k.Fq)(i.palette.text.primary,.12),color:"white",textTransform:"capitalize"},onClick:t,variant:"text",children:"Cancel"})]})})}function O(e){var r;let{isOpen:t,onClose:s,token:i}=e,{repayAmount:d,setRepayAmount:c,onRepay:u,onReset:b,isDisabled:g,ctaText:y,isLoading:f,summary:Z}=(0,n.I7)((null==i?void 0:i.address)||"",e=>{e&&s()}),R=(0,v.Z)();return(0,w.useEffect)(()=>{b()},[t]),(0,a.jsx)(C.Z,{open:t,onClose:s,children:(0,a.jsxs)(o.Z,{sx:{p:"0 1rem 2rem 1rem",width:"100%",margin:"auto",maxWidth:"420px",borderRadius:"1rem",background:R.palette.background.paper,top:"45%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute"},children:[(0,a.jsx)(p,{onClose:s,title:"Repay"}),(0,a.jsx)(h,{token:i,value:d,onChange:e=>c(e),balance:null===(r=Z.tokenDetails)||void 0===r?void 0:r.totalUserBorrowedPrecised}),(0,a.jsx)(m,{summaries:[{label:"Remaining Debt",value:"".concat((0,l.az)(null==Z?void 0:Z.updatedBorrowAmount,0,4)," ").concat(null==i?void 0:i.symbol),valueColor:"textLight"},{label:"Health Score",value:(0,a.jsx)(j,{currentValue:Z.healthFactor,updatedValue:Z.updatedHealthFactor})}]}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",textTransform:"capitalize"},disabled:g||f,onClick:u,variant:"contained",children:y}),(0,a.jsx)(x.Z,{fullWidth:!0,sx:{mt:"1rem",borderRadius:"1rem",background:(0,k.Fq)(R.palette.text.primary,.12),color:"white",textTransform:"capitalize"},onClick:s,variant:"text",children:"Cancel"})]})})}function P(){let[e,r]=(0,w.useState)(null),[t,s]=(0,w.useState)(null),[i,c]=(0,w.useState)("asc"),[u,p]=(0,w.useState)(""),h=(0,v.Z)(),m=()=>{r(null),s(null)},b=e=>{r(e)},j=e=>{s(e)},{data:Z}=(0,n.T4)(),{isLoading:C}=(0,n.OK)(),R=(null==Z?void 0:Z.tokens)||[];return(0,a.jsxs)(o.Z,{sx:{borderRadius:"0.5rem",overflow:"auto",alignSelf:"flex-start",minHeight:{xs:"200px",sm:"300px"},p:"1.5rem 0",background:h.palette.background.paper},className:"aqua-user-box",children:[(0,a.jsx)(N,{isOpen:!!e,onClose:m,token:e}),(0,a.jsx)(O,{isOpen:!!t,onClose:m,token:t}),(0,a.jsxs)(l.X2,{gap:".5rem",sx:{mb:"1rem",p:"0 1rem"},children:[(0,a.jsx)(l.X2,{children:(0,a.jsx)(d.Z,{fontWeight:"600",variant:"h6",children:"Your borrowed"})}),(0,a.jsx)(l.X2,{sx:{p:"2px 6px",borderRadius:"4px",background:h.palette.background.secondary},children:(0,a.jsx)(d.Z,{variant:"body2",children:(null==R?void 0:R.length)||0})})]}),(0,a.jsx)(F.k,{order:i,orderBy:u,setOrder:c,setOrderBy:p,heads:[{label:"Asset",id:"symbol",sortable:!0},{label:"Borrowed",id:"totalUserBorrowedUsd",sortable:!0},{label:"APY",id:"borrowRate",sortable:!0},{label:"Action",id:"Action",sortable:!1}],data:R,renderItem:(e,r)=>(0,a.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(l.Xw,{currency:e,showName:!0})}),(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(d.Z,{variant:"body2",display:"block",children:(0,l.az)(e.totalUserBorrowed,0,4)}),(0,a.jsx)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:(0,l.YZ)(e.totalUserBorrowedUsd)})]}),(0,a.jsx)(y.Z,{children:(0,a.jsxs)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:[(0,l.az)(e.borrowRate,0,2),"%"]})}),(0,a.jsx)(y.Z,{align:"right",children:(0,a.jsxs)(l.X2,{className:"action-button-group",sx:{display:"flex",gap:"6px",justifyContent:"flex-end",alignItems:"center"},children:[(0,a.jsx)(x.Z,{onClick:()=>b(e),sx:{background:(0,k.Fq)(h.palette.primary.main,.1),color:h.palette.primary.main,borderRadius:"12px",textTransform:"capitalize"},children:"Borrow"}),(0,a.jsx)(x.Z,{onClick:()=>j(e),sx:{background:(0,k.Fq)(h.palette.primary.main,.1),color:h.palette.primary.main,borderRadius:"12px",textTransform:"capitalize"},children:"Repay"})]})})]},r)}),!C&&!(null==R?void 0:R.length)&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(d.Z,{color:"text.secondary",children:"Nothing borrowed yet"})}),C&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(f.Z,{})})]})}let T=(e,r,t,a)=>{let l=Math.max(((e||0)-(r||0))/(t||1),0);return Math.min(l,null!=a?a:l)};function q(){let[e,r]=(0,w.useState)(null),[t,s]=(0,w.useState)("asc"),[i,c]=(0,w.useState)(""),u=(0,v.Z)(),p=e=>{r(e)},{data:h,isLoading:m}=(0,n.OK)(),{data:b}=(0,n.uQ)(),j=(null==h?void 0:h.filter(e=>{var r;return((null==e?void 0:null===(r=e.oraclePriceFeedId)||void 0===r?void 0:r.length)||0)>4||e.collateralFactor>0}))||[];return(0,a.jsxs)(o.Z,{sx:{borderRadius:"0.5rem",overflow:"auto",alignSelf:"flex-start",minHeight:{xs:"200px",sm:"300px"},p:"1.5rem 0",background:u.palette.background.paper},className:"aqua-user-box",children:[(0,a.jsx)(N,{isOpen:!!e,onClose:()=>{r(null)},token:e}),(0,a.jsxs)(l.X2,{gap:".5rem",sx:{mb:"1rem",p:"0 1rem"},children:[(0,a.jsx)(l.X2,{children:(0,a.jsx)(d.Z,{fontWeight:"600",variant:"h6",children:"Assets to borrow"})}),(0,a.jsx)(l.X2,{sx:{p:"2px 6px",borderRadius:"4px",background:u.palette.background.secondary},children:(0,a.jsx)(d.Z,{variant:"body2",children:(null==j?void 0:j.length)||0})})]}),(0,a.jsx)(F.k,{order:t,orderBy:i,setOrder:s,setOrderBy:c,heads:[{label:"Asset",id:"symbol",sortable:!0},{label:"Max borrow",id:"priceUsd",sortable:!0},{label:"APY",id:"borrowRate",sortable:!0},{label:"Action",id:"Action",sortable:!1}],data:j,renderItem:(e,r)=>(0,a.jsxs)(g.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,a.jsx)(y.Z,{children:(0,a.jsx)(l.Xw,{currency:e,showName:!0})}),(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(d.Z,{variant:"body2",display:"block",children:(0,l.az)(T(null==b?void 0:b.totalDepositedUsdWithCollateralFactor,null==b?void 0:b.totalBorrowUsd,e.priceUsd,e.vaultBalanceUsd),0,4)}),(0,a.jsx)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:(0,l.YZ)(T(null==b?void 0:b.totalDepositedUsdWithCollateralFactor,null==b?void 0:b.totalBorrowUsd,e.priceUsd,e.vaultBalanceUsd)*e.priceUsd)})]}),(0,a.jsx)(y.Z,{children:(0,a.jsxs)(d.Z,{variant:"body2",display:"block",color:"text.secondary",children:[(0,l.az)(e.borrowRate,0,2),"%"]})}),(0,a.jsx)(y.Z,{align:"right",children:(0,a.jsx)(l.X2,{sx:{gap:"6px",display:"flex",justifyContent:"flex-end",alignItems:"center"},children:(0,a.jsx)(x.Z,{onClick:()=>p(e),sx:{background:(0,k.Fq)(u.palette.primary.main,.1),color:u.palette.primary.main,borderRadius:"12px",textTransform:"capitalize",border:0},children:"Borrow"})})})]},r)}),!m&&!(null==j?void 0:j.length)&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(d.Z,{color:"text.secondary",children:"No token"})}),m&&(0,a.jsx)(l.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,a.jsx)(f.Z,{})})]})}function I(){let{data:e}=(0,n.uQ)(),{walletAddress:r}=(0,l.Os)();return(0,a.jsxs)("div",{style:{width:"100%"},children:[(0,a.jsx)(U.Z,{items:[{label:"Net balance",value:(null==e?void 0:e.totalDepositedUsd)?"".concat((0,l.az)(null==e?void 0:e.totalDepositedUsd,0,2,!0)):"-",icon:"/wallet-icon.svg",color:"rgba(244, 146, 31, 1)"},{label:"Net APY",value:(null==e?void 0:e.netSupplyApy)?"".concat((0,l.az)((null==e?void 0:e.netSupplyApy)-e.netBorrowApy,0,2,!1),"%"):"-",icon:"/apy-icon.svg",color:"rgba(82, 169, 153, 1)"},{label:"Account health",value:(0,a.jsx)(j,{currentValue:null==e?void 0:e.healthFactor,variant:"h4"}),icon:"/health-factor-icon.svg",color:"rgba(211, 60, 93, 1)"}]}),(0,a.jsxs)(o.Z,{sx:{width:"100%",maxWidth:"1248px",pb:"1rem",m:"auto",p:"0 0rem"},children:[!r&&(0,a.jsx)(l.RZ,{sublabel:"Please connect your wallet to see your supplies, borrowings, and open positions."}),r&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(o.Z,{sx:{display:"grid",gap:"1rem",justifyContent:"center",alignItems:"center",gridTemplateColumns:{xs:"repeat(auto-fill, minmax(300px, 1fr))",lg:"repeat(auto-fill, minmax(520px, 1fr))"},mt:"1rem",gridAutoRows:"max-content"},children:[(0,a.jsx)(B,{}),(0,a.jsx)(P,{}),(0,a.jsx)(D,{}),(0,a.jsx)(q,{})]})})]})]})}},84030:function(e,r,t){"use strict";t.d(r,{k:function(){return g}});var a=t(27573),l=t(7653),n=t(78953),o=t(92402),s=t(14611),i=t(18483),d=t(26359),c=t(1586),x=t(75270),u=t(92251),p=t(48740),h=t(59089),m=t(65372),b=t(88510);function j(e,r,t){return r[t]<e[t]?-1:r[t]>e[t]?1:0}function v(e){let{order:r,orderBy:t,onRequestSort:l,data:o}=e,s=e=>r=>{l(r,e)},d=(0,m.Z)();return(0,a.jsx)(c.Z,{sx:{background:(0,b.Fq)(d.palette.background.secondary||"",.5)},children:(0,a.jsx)(x.Z,{children:o.map(e=>(0,a.jsx)(i.Z,{align:e.align||"left",padding:"none",sortDirection:t===e.id&&r,children:(0,a.jsxs)(u.Z,{active:t===e.id,direction:t===e.id?r:"asc",onClick:s(e.id),sx:{p:"8px 12px",whiteSpace:"nowrap",color:d.palette.text.secondary},children:[e.label,t===e.id?(0,a.jsx)(n.Z,{component:"span",sx:h.Z,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id))})})}function g(e){let{order:r,orderBy:t,data:i,setOrder:c,heads:x,setOrderBy:u,renderItem:h}=e,b=(0,m.Z)(),g=l.useMemo(()=>(function(e,r){let t=null==(e=e||[])?void 0:e.map((e,r)=>[e,r]);return t.sort((e,t)=>{let a=r(e[0],t[0]);return 0!==a?a:e[1]-t[1]}),t.map(e=>e[0])})(i,"desc"===r?(e,r)=>j(e,r,t):(e,r)=>-j(e,r,t)),[r,t,JSON.stringify(i)]);return(0,a.jsx)(n.Z,{sx:{width:"100%"},children:(0,a.jsx)(p.Z,{sx:{width:"100%",mb:2},children:(0,a.jsx)(d.Z,{children:(0,a.jsxs)(o.Z,{size:"medium",sx:{background:b.palette.background.paper},children:[(0,a.jsx)(v,{order:r,orderBy:t,onRequestSort:(e,a)=>{c(t===a&&"asc"===r?"desc":"asc"),u(a)},data:x}),(0,a.jsx)(s.Z,{children:g.map((e,r)=>h(e,r))})]})})})})}}},function(e){e.O(0,[5211,7359,6139,2999,8271,6293,4199,1041,2298,1293,4016,1744],function(){return e(e.s=73459)}),_N_E=e.O()}]);