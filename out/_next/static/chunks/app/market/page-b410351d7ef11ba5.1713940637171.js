(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3828],{48740:function(e,t,a){"use strict";a.d(t,{Z:function(){return g}});var r=a(85906),o=a(27198),l=a(7653),n=a(90794),i=a(59808),s=a(40062),d=a(51599),c=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2),u=a(62913),v=a(48261),p=a(5548);function h(e){return(0,p.ZP)("MuiPaper",e)}(0,v.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var x=a(27573);let b=["className","component","elevation","square","variant"],m=e=>{let{square:t,elevation:a,variant:r,classes:o}=e,l={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${a}`]};return(0,i.Z)(l,h,o)},f=(0,d.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],!a.square&&t.rounded,"elevation"===a.variant&&t[`elevation${a.elevation}`]]}})(({theme:e,ownerState:t})=>{var a;return(0,o.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,o.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,s.Fq)("#fff",c(t.elevation))}, ${(0,s.Fq)("#fff",c(t.elevation))})`},e.vars&&{backgroundImage:null==(a=e.vars.overlays)?void 0:a[t.elevation]}))});var g=l.forwardRef(function(e,t){let a=(0,u.Z)({props:e,name:"MuiPaper"}),{className:l,component:i="div",elevation:s=1,square:d=!1,variant:c="elevation"}=a,v=(0,r.Z)(a,b),p=(0,o.Z)({},a,{component:i,elevation:s,square:d,variant:c}),h=m(p);return(0,x.jsx)(f,(0,o.Z)({as:i,ownerState:p,className:(0,n.Z)(h.root,l),ref:t},v))})},65372:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}}),a(7653);var r=a(99081),o=a(8926),l=a(69248);function n(){let e=(0,r.Z)(o.Z);return e[l.Z]||e}},90872:function(e,t,a){Promise.resolve().then(a.bind(a,59572)),Promise.resolve().then(a.bind(a,66066))},9141:function(e,t,a){"use strict";var r=a(27573),o=a(41639),l=a(40569),n=a(96072),i=a.n(n),s=a(65372),d=a(88510),c=a(78953),u=a(76718);t.Z=function(e){let{items:t}=e,a=(0,s.Z)();return(0,r.jsx)(o.X2,{sx:{width:"100%",flex:"1 1 0",gap:"1rem",flexWrap:"wrap",margin:"auto",maxWidth:"1240px"},children:t.map(e=>{let t=e.TooltipElement||"div";return(0,r.jsxs)(o.X2,{sx:{background:a.palette.background.paper,padding:"1.5rem",border:"1px solid ".concat(a.palette.outline),borderRadius:"1rem",flex:"1 1 0",gap:"1rem"},children:[(0,r.jsx)(o.X2,{sx:{background:(0,d.Fq)(e.color||"",.4),padding:"1rem",borderRadius:"0.5rem"},children:(0,r.jsx)(i(),{src:e.icon||"",alt:"",width:40,height:40})}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("div",{style:{fontSize:"2rem"},children:"string"==typeof e.value?(0,r.jsx)(u.Z,{variant:"h4",display:"block",fontWeight:"500",children:e.value}):e.value}),(0,r.jsx)(t,{children:(0,r.jsxs)(o.X2,{children:[(0,r.jsx)(u.Z,{variant:"body1",color:"text.secondary",sx:{whiteSpace:"nowrap",mr:"4px"},display:"block",children:e.label}),e.TooltipElement&&(0,r.jsx)(l.Z,{color:"disabled",sx:{width:"16px"}})]})},e.label)]})]},e.label)})})}},84030:function(e,t,a){"use strict";a.d(t,{k:function(){return g}});var r=a(27573),o=a(7653),l=a(78953),n=a(92402),i=a(14611),s=a(18483),d=a(26359),c=a(1586),u=a(75270),v=a(92251),p=a(48740),h=a(59089),x=a(65372),b=a(88510);function m(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function f(e){let{order:t,orderBy:a,onRequestSort:o,data:n}=e,i=e=>t=>{o(t,e)},d=(0,x.Z)();return(0,r.jsx)(c.Z,{sx:{background:(0,b.Fq)(d.palette.background.secondary||"",.5)},children:(0,r.jsx)(u.Z,{children:n.map(e=>(0,r.jsx)(s.Z,{align:e.align||"left",padding:"none",sortDirection:a===e.id&&t,children:(0,r.jsxs)(v.Z,{active:a===e.id,direction:a===e.id?t:"asc",onClick:i(e.id),sx:{p:"8px 12px",whiteSpace:"nowrap",color:d.palette.text.secondary},children:[e.label,a===e.id?(0,r.jsx)(l.Z,{component:"span",sx:h.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id))})})}function g(e){let{order:t,orderBy:a,data:s,setOrder:c,heads:u,setOrderBy:v,renderItem:h}=e,b=(0,x.Z)(),g=o.useMemo(()=>(function(e,t){let a=null==(e=e||[])?void 0:e.map((e,t)=>[e,t]);return a.sort((e,a)=>{let r=t(e[0],a[0]);return 0!==r?r:e[1]-a[1]}),a.map(e=>e[0])})(s,"desc"===t?(e,t)=>m(e,t,a):(e,t)=>-m(e,t,a)),[t,a,JSON.stringify(s)]);return(0,r.jsx)(l.Z,{sx:{width:"100%"},children:(0,r.jsx)(p.Z,{sx:{width:"100%",mb:2},children:(0,r.jsx)(d.Z,{children:(0,r.jsxs)(n.Z,{size:"medium",sx:{background:b.palette.background.paper},children:[(0,r.jsx)(f,{order:t,orderBy:a,onRequestSort:(e,r)=>{c(a===r&&"asc"===t?"desc":"asc"),v(r)},data:u}),(0,r.jsx)(i.Z,{children:g.map((e,t)=>h(e,t))})]})})})})}},59572:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r,o,l=a(27573),n=a(41639),i=a(78953),s=a(9141),d=a(5995),c=a(92550),u=a(93908),v=a(92298);(r=o||(o={})).AQUA_MARKETS_STATS_OVERVIEW="AQUA_MARKETS_STATS_OVERVIEW",r.AQUA_MARKETS_TOKENS_OVERVIEW="AQUA_MARKETS_TOKENS_OVERVIEW";var p=a(12505);let h=()=>{let{provider:e,chain:t}=(0,n.Os)(),{data:a}=(0,v.Yp)();return(0,d.a)({queryKey:[o.AQUA_MARKETS_STATS_OVERVIEW,t],queryFn:async r=>{let{signal:o}=r,l=(0,n.F5)(t),i=await (0,n.Vr)(e,t),s=0,d={totalAssets:0,totalAvailable:0,totalBorrows:0,totalLongPositionUsd:0,totalShortPositionUsd:0,totalVolume:0,totalTransactions:0,totalFinancingFees:0,totalTransactionFees:0};if(!(null==a?void 0:a.length)||!l||!i)return d;for(;s<3;){s+=1,i=await (0,n.Vr)(e,t);let r=new c.CH(l.addresses.multicall,p.ky,i);try{let e=await (0,u.n)(r,t,a);console.log("marketRes: ",e),Object.values(e).forEach(e=>{d.totalAssets+=(e.totalRetailBorrow+e.totalCash)*e.priceUsd,d.totalAvailable+=e.totalCash*e.priceUsd,d.totalBorrows+=(e.totalMMBorrow+e.totalRetailBorrow)*e.priceUsd});break}catch(e){console.log("err get market info: ",e)}}return d},enabled:!!(null==a?void 0:a.length),refetchOnWindowFocus:!1,staleTime:6e4})},x=()=>{let{provider:e,chain:t}=(0,n.Os)(),{data:a}=(0,v.OK)();return(0,d.a)({queryKey:[o.AQUA_MARKETS_TOKENS_OVERVIEW,t],queryFn:async r=>{let{signal:o}=r,l=(0,n.F5)(t),i=await (0,n.Vr)(e,t);if(!(null==a?void 0:a.length)||!l||!i)return[];let s=0;for(;s<3;){s+=1,i=await (0,n.Vr)(e,t);let r=new c.CH(l.addresses.multicall,p.ky,i);try{let e=await (0,u.n)(r,t,a),o=[];return a.forEach(t=>{let a=e[t.address.toLowerCase()],r=a.totalCash+a.totalMMBorrow+a.totalRetailBorrow,l=a.totalMMBorrow+a.totalRetailBorrow;o.push({...a,...t,totalLongPosition:0,totalLongPositionUsd:0,totalShortPosition:0,totalShortPositionUsd:0,totalSupply:r,totalSupplyUsd:r*t.priceUsd,totalBorrow:l,totalBorrowUsd:l*t.priceUsd,utilizationRate:a.utilizationRate})}),o}catch(e){console.log("err get market info: ",e)}}return[]},enabled:!!t&&!!(null==a?void 0:a.length),refetchOnWindowFocus:!1,staleTime:6e4})};var b=a(65372),m=a(76718),f=a(75270),g=a(18483),Z=a(34287),y=a(7653),w=a(84030);function j(){let[e,t]=(0,y.useState)("asc"),[a,r]=(0,y.useState)(""),o=(0,b.Z)(),{data:s,isLoading:d}=x();return(0,l.jsxs)(i.Z,{sx:{borderRadius:"0.5rem",overflow:"auto",alignSelf:"flex-start",minHeight:{xs:"200px",sm:"300px"},p:"1.5rem 0",background:o.palette.background.paper},children:[(0,l.jsx)(n.X2,{gap:".5rem",sx:{mb:"1rem",p:"0 1rem"},children:(0,l.jsx)(n.X2,{children:(0,l.jsx)(m.Z,{fontWeight:"600",variant:"h6",children:"Morph Assets"})})}),(0,l.jsx)(w.k,{order:e,orderBy:a,setOrder:t,setOrderBy:r,heads:[{label:"Asset",id:"symbol",sortable:!0},{label:"Total Supplied",id:"userBalanceUsd",sortable:!0},{label:"Supply APY",id:"supplyRate",sortable:!0},{label:"Total Borrowed",id:"isEnteredMarket",sortable:!1},{label:"Borrow APY",id:"isEnteredMarket",sortable:!1}],data:s||[],renderItem:(e,t)=>(0,l.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(g.Z,{children:(0,l.jsx)(n.Xw,{currency:e,showName:!0})}),(0,l.jsx)(g.Z,{children:(0,l.jsx)(m.Z,{variant:"body1",display:"block",color:"text.secondary",children:(0,n.YZ)(e.totalSupplyUsd||0)})}),(0,l.jsx)(g.Z,{children:(0,l.jsxs)(m.Z,{variant:"body1",display:"block",color:"text.secondary",children:[(0,n.az)(e.supplyRate,0,2),"%"]})}),(0,l.jsx)(g.Z,{children:(0,l.jsxs)(m.Z,{variant:"body1",display:"block",color:"text.secondary",children:[(0,n.az)(e.supplyRate,0,2),"%"]})}),(0,l.jsx)(g.Z,{children:(0,l.jsxs)(m.Z,{variant:"body1",display:"block",color:"text.secondary",children:[(0,n.az)(e.supplyRate,0,2),"%"]})})]},t)}),d&&(0,l.jsx)(n.X2,{sx:{justifyContent:"center",pt:"1rem"},children:(0,l.jsx)(Z.Z,{})})]})}function k(){let{data:e}=h();return(0,l.jsxs)("div",{style:{width:"100%"},children:[(0,l.jsx)(s.Z,{items:[{label:"Total Market Size",value:(null==e?void 0:e.totalAssets)?"".concat((0,n.az)(null==e?void 0:e.totalAssets,0,2,!0)):"-",icon:"/market-icon.svg",color:"rgba(244, 146, 31, 1)"},{label:"Total Available",value:(null==e?void 0:e.totalAvailable)?"".concat((0,n.az)(null==e?void 0:e.totalAvailable,0,2,!0)):"-",icon:"/supply-icon.svg",color:"rgba(82, 169, 153, 1)"},{label:"Total Borrows",value:(null==e?void 0:e.totalBorrows)?"".concat((0,n.az)(null==e?void 0:e.totalBorrows,0,2,!0)):"-",icon:"/borrow-icon.svg",color:"rgba(211, 60, 93, 1)"}]}),(0,l.jsx)(i.Z,{sx:{width:"100%",maxWidth:"1248px",pb:"1rem",m:"auto",p:"0 0rem",mt:"1rem",minHeight:"52vh"},children:(0,l.jsx)(j,{})})]})}}},function(e){e.O(0,[5211,7359,6139,2999,6293,1041,2298,1293,4016,1744],function(){return e(e.s=90872)}),_N_E=e.O()}]);